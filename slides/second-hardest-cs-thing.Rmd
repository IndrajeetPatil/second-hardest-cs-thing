---
title: "Dealing with the Second Hardest Thing in Computer Science"
subtitle: "Thoughts on naming things for software development"
author: "</br></br></br>Indrajeet Patil (Software Engineer, esqLABS)"
#date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)

knitr::opts_chunk$set(eval = FALSE)
```

layout: false

class: inverse, center, middle

## "There are only two hard things in Computer Science: </br>cache invalidation and naming things."</br>
### - Phil Karlton

---

layout: false

class: inverse, center, middle

## The following advice about naming applies to various objects (variables, functions, classes, etc.)!

## It is deliberately language-agnostic.

---

## Guiding Principle: **Names are a form of abstraction**

> [T]he best names are those that focus attention on what is most important about the underlying entity while omitting details that are less important.
> 
> \- Jonh Ousterhout

--

## Importance: **Names are at the core of software design** 

If you can't find a good name that provides the right abstraction for the underlying object, it is possible that the underlying object doesn't have a clear design.

--

## Properties: **Good names are precise and consistent**

We will see some advice on how to satisfy these properties.

---

layout: false

class: inverse, center, middle

# "The beginning of wisdom is to call things by their proper name."</br>
## - Confucius

---

## Good names are a form of documentation.

How good a name is can be assessed by how detailed the accompanying comments need to be.

--

For example, this has neither good function nor parameter name, and you can tell that from how much work the comments are doing:

```{Rcpp}
// function to convert temperature from Fahrenheit to Celsius scale
// temp is the temperature in Fahrenheit
double unitCoverter(double temp)
```

--

Contrast it with (we don't even need a comment here!):

```{Rcpp}
double fahrenheitToCelsius(double tempFahrenheit)
```

--

**Good names rarely require readers to read the documentation to understand what they represent.**

---

## Avoid generic names.

Generic names don't provide much information about the values or the purpose of the entity they represent.

For example, 

```{r}
distance() # too generic 
euclidean_distance() # more specific and informative
```

**Generic names compromise code readability because they provide little information.**

---

## Follow conventions if you use generic names.

Sometimes using generic names may actually improve code readability. But, in such cases, it is vital to follow the conventions.

For example, using `j` for outer and `i` for inner loop is confusing!

```{js}
  for (let j = 0; j < arr.length; j++) {
    for (let i = 0; i < arr[i].length; i++) {
      
    }
  }
```

Similarly, `temp` shouldn't be used to store objects that are not temporary.

```{r}
sumXY <- function(x, y) {
  temp = x + y
  return(temp)
}
```

etc.

**Don't violate reader assumptions about what generic names represent.**

---

## Remove unnecessary words from names...

.pull-left[

```{r}
# okay 
convert_to_string()
createPlotHistogram()
```

]

.pull-right[

```{r}
# better 
to_string()
plotHistogram()
```

]

</br>

## but keep important extra details!

.pull-left[

```{r}
# okay 
child_height
password
id
address
```

]

.pull-right[

```{r}
# better 
child_height_cm
plaintext_password
hex_id
ip_address
```

]

**If some information is critical to know, it should be part of the name.**

---

## Names should be difficult to misunderstand.

**Making names as precise and unambiguous as possible leaves little room for misconstrual.**

---

## Names should be kept up-to-date.

To resist software entropy, not only should you name things properly, but you should also rename things to keep up with new developments.

Otherwise, names will become something worse than meaningless or confusing: **misleading**.

---

layout: false

class: inverse, center, middle

# Case studies

Looking at names in the wild that violate presented guidelines.

This is not meant as a criticism but as real-life learning opportunities to drive home importance of some of these guidelines.

---

## Violation: Generic name

The parameter `N` in `std::array` [definition]((https://en.cppreference.com/w/cpp/container/array)) is too generic.

```{Rcpp}
template<
    class T,
    std::size_t N #<<
> struct array;
```

`size` is a bit better but still leaves room for misunderstanding: 
> "Does it mean length or memory bytes?"

`numberOfElements` is more precise and unmistakable:

```{Rcpp}
template<
    class T,
    std::size_t numberOfElements #<<
> struct array;
```

---

layout: false

class: inverse, center, middle

## Violation: Inconsistency in naming schema

*ggplot2* is a [plotting framework](https://ggplot2.tidyverse.org/) in R. 

Quite admirably, it accepts both **British** and **American** English spellings. 

But does it do so *consistently*?

---

## Function names

Both forms of spellings are supported.

```{r}
# works
guide_colorbar(...)

# this works as well
guide_colourbar(...)
```

--

## Function parameters

Both forms of spellings are supported.

```{r}
# works
aes(color = my_variable)

# this works as well!
aes(colour = my_variable)
```

---

## Function names *and* parameters 

A user has now come to believe that *ggplot2* supports British and American spellings for both function names and parameters.

And, since they prefer American spellings, they do this:

```{r}
guide_colorbar(ticks.color = "black")
```

--

**That won't work!**

Both functions support **only** the British spelling of parameters:

```{r}
guide_colourbar(ticks.colour = "black")
guide_colorbar(ticks.colour = "black")
```

--

This is **inconsistent** and **violates user's mental model** about function and parameter naming schema<sup>*</sup>.

.footnote[

*This can be a painful source of a bug because the function will fail silently.

]

---

layout: false

class: inverse, center, middle

# Benefits of naming things correctly

---

## "What's in a name?" Well, everthing!

--

- Trying to find good names forces you to detach from the problem-solving mindset and to **focus on the bigger picture** of what motivates this change. This is critical for thoughtful software design.

--

- Searching for precise names requires clarity, and seeking such clarity **improves your own understanding** of the code.

---

# Further Reading

For more detailed account of how to name things, check out following references. 
The **page numbers** in parentheses point to the relevant portions of the book.

- Boswell, D., & Foucher, T. (2011). *The Art of Readable Code*. O'Reilly Media, Inc. (**pp. 7-31**)

- Ousterhout, J. K. (2018). *A Philosophy of Software Design*. Palo Alto: Yaknyam Press. (**pp. 121-129**)

- McConnell, S. (2004). *Code Complete*. Microsoft Press. (**pp. 259-290**)

- Martin, R. C. (2009). *Clean Code*. Pearson Education.(**pp. 17-30**)

- Thomas, D., & Hunt, A. (2019). *The Pragmatic Programmer*. Addison-Wesley Professional. (**pp. 238-242**)


---

layout: false

class: inverse, center, middle

# Find me on...

.font100[

üê¶ [Twitter](http://twitter.com/patilindrajeets)

üíº [LinkedIn](https://www.linkedin.com/in/indrajeet-patil-397865174/)

üíª [GitHub](mailto:patilindrajeet.science@gmail.com)

]

---

layout: false

class: inverse, center, middle

## Code for these slides is available [here](https://github.com/IndrajeetPatil/second-hardest-cs-thing/).

If you have any feedback on these slides, please create issue there.

---

layout: false

class: inverse, center, middle

# The End üëã
